{"version":3,"sources":["app.component.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA;;GAEG;AACH,sCAAkD;AAClD,sCAAwD;AACxD,8CAA6C;AAE7C,mCAAiC;AACjC,iCAA+B;AAU/B,IAAa,YAAY;IAKrB,sBAAqB,IAAU;QAAV,SAAI,GAAJ,IAAI,CAAM;QAJvB,aAAQ,GAAU,uCAAuC,CAAC,CAAE,iBAAiB;QAC7E,UAAK,GAAW,EAAE,CAAC;QAEnB,SAAI,GAAU,YAAY,CAAC;IACD,CAAC;IACnC,kCAAW,GAAX;QACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;aAC9B,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;aACrB,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACjC,CAAC;IACO,kCAAW,GAAnB,UAAoB,GAAa;QAC7B,IAAI,IAAI,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;QACtB,MAAM,CAAC,IAAI,CAAC,IAAI,IAAI,EAAG,CAAC;IAC5B,CAAC;IACO,kCAAW,GAAnB,UAAqB,KAAqB;QACtC,qEAAqE;QACrE,IAAI,MAAc,CAAC;QACnB,EAAE,CAAC,CAAC,KAAK,YAAY,eAAQ,CAAC,CAAC,CAAC;YAC5B,IAAM,IAAI,GAAG,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC;YAChC,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YAC/C,MAAM,GAAM,KAAK,CAAC,MAAM,YAAM,KAAK,CAAC,UAAU,IAAI,EAAE,UAAI,GAAK,CAAC;QAClE,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,MAAM,GAAG,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;QAC9D,CAAC;QACD,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACtB,MAAM,CAAC,uBAAU,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IACpC,CAAC;IAED,+BAAQ,GAAR;QAAA,iBAcC;QAbG,IAAI,CAAC,WAAW,EAAE,CAAC,SAAS,CACxB,UAAA,IAAI;YACA,EAAE,CAAA,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;gBACV,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC;YACrC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,KAAI,CAAC,KAAK,GAAW,IAAI,CAAC,KAAK,CAAA;YACnC,CAAC;YACD,GAAG,CAAA,CAAU,UAAU,EAAV,KAAA,KAAI,CAAC,KAAK,EAAV,cAAU,EAAV,IAAU;gBAAnB,IAAI,CAAC,SAAA;gBACL,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;aACxB;QACL,CAAC,EACD,UAAA,KAAK,IAAK,OAAA,KAAI,CAAC,YAAY,GAAQ,KAAK,EAA9B,CAA8B,CAC3C,CAAC;IACN,CAAC;IACL,mBAAC;AAAD,CA5CA,AA4CC,IAAA;AA5CY,YAAY;IARxB,gBAAS,CAAC;QACP,QAAQ,EAAE,QAAQ;QAClB,QAAQ,EAAE,gOAI0D;KACvE,CAAC;qCAM6B,WAAI;GALtB,YAAY,CA4CxB;AA5CY,oCAAY","file":"app.component.js","sourcesContent":["/**\r\n * Created by ori on 4/12/2017.\r\n */\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Http, Response }          from '@angular/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { User } from './entities/user';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/operator/map';\r\n\r\n@Component({\r\n    selector: 'my-app',\r\n    template: `<h1>{{name}}</h1>\r\n                <ul>\r\n                <li *ngFor=\"let user of users; let i = index\">{{user.email}}</li>\r\n                </ul>\r\n                <div *ngIf=\"errorMessage\">error: {{errorMessage}}</div>`,\r\n})\r\nexport class AppComponent implements OnInit {\r\n    private usersUrl:string = 'http://localhost:3000/api/getAllUsers';  // URL to web API\r\n    private users: Object = [];\r\n    private errorMessage:string;\r\n    private name:string = 'Users List';\r\n    constructor (private http: Http) {}\r\n    getAllUsers(): Observable<any> {\r\n        return this.http.get(this.usersUrl)\r\n            .map(this.extractData)\r\n            .catch(this.handleError);\r\n    }\r\n    private extractData(res: Response) {\r\n        let body = res.json();\r\n        return body.data || { };\r\n    }\r\n    private handleError (error: Response | any) {\r\n        // In a real world app, you might use a remote logging infrastructure\r\n        let errMsg: string;\r\n        if (error instanceof Response) {\r\n            const body = error.json() || '';\r\n            const err = body.error || JSON.stringify(body);\r\n            errMsg = `${error.status} - ${error.statusText || ''} ${err}`;\r\n        } else {\r\n            errMsg = error.message ? error.message : error.toString();\r\n        }\r\n        console.error(errMsg);\r\n        return Observable.throw(errMsg);\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.getAllUsers().subscribe(\r\n            data => {\r\n                if(data.err) {\r\n                    this.errorMessage = data.errdesc;\r\n                } else {\r\n                    this.users = <User[]>data.users\r\n                }\r\n                for(let u of this.users) {\r\n                    console.log(u.email);\r\n                }\r\n            },\r\n            error =>  this.errorMessage = <any>error\r\n        );\r\n    }\r\n}\r\n"]}